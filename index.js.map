{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderGallery(images) {\n  const markup = images\n    .map(\n      ({ webformatURL, largeImageURL, tags }) =>\n        `<a class=\"gallery__item\" href=\"${largeImageURL}\">\n          <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>`\n    )\n    .join('');\n\n  const galleryContainer = document.querySelector('.gallery');\n  if (galleryContainer) {\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n  }\n}\n","import axios from 'axios';\n\nconst API_KEY = '47523471-f6b5bf2e20bc9d436dc6d8dc4';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 15) {\n  if (!query || query.trim() === '') {\n    throw new Error('Query cannot be empty. Please provide a search term.');\n  }\n\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page,\n    per_page: perPage,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error.message);\n    throw new Error('Failed to fetch images. Please try again later.');\n  }\n}\n","import { renderGallery } from './js/render-functions.js';\nimport { fetchImages } from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst input = document.querySelector('input[name=\"searchQuery\"]');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet currentPage = 1;\nlet currentQuery = '';\n\nform?.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n\n  const query = input?.value.trim();\n  if (!query) {\n    showWarning('Please enter a search query.');\n    return;\n  }\n\n  if (query !== currentQuery) {\n    resetGallery();\n    currentPage = 1;\n  }\n  currentQuery = query;\n\n  try {\n    toggleLoader(true);\n    const { hits, totalHits } = await fetchImages(query, currentPage);\n\n    if (hits.length === 0) {\n      showWarning('No images found for your query. Try again!');\n      return;\n    }\n\n    if (currentPage === 1) {\n      showSuccess(`Found ${totalHits} images!`);\n    }\n\n    renderGallery(hits);\n    currentPage += 1;\n  } catch (error) {\n    showError(error.message || 'Something went wrong. Please try again later.');\n  } finally {\n    toggleLoader(false);\n  }\n}\n\nfunction resetGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction toggleLoader(show) {\n  loader.style.display = show ? 'block' : 'none';\n}\n\nfunction showWarning(message) {\n  iziToast.warning({\n    title: 'Warning',\n    message,\n    position: 'topRight',\n  });\n}\n\nfunction showSuccess(message) {\n  iziToast.success({\n    title: 'Success',\n    message,\n    position: 'topRight',\n  });\n}\n\nfunction showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message,\n    position: 'topRight',\n  });\n}\n"],"names":["renderGallery","images","markup","webformatURL","largeImageURL","tags","galleryContainer","API_KEY","BASE_URL","fetchImages","query","page","perPage","params","axios","error","form","input","gallery","loader","currentPage","currentQuery","onSearch","event","showWarning","resetGallery","toggleLoader","hits","totalHits","showSuccess","showError","show","message","iziToast"],"mappings":"6vBAAO,SAASA,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,CAAM,IACpC,kCAAkCD,CAAa;AAAA,6CACVD,CAAY,UAAUE,CAAI;AAAA,aAElE,EACA,KAAK,EAAE,EAEJC,EAAmB,SAAS,cAAc,UAAU,EACtDA,GACFA,EAAiB,mBAAmB,YAAaJ,CAAM,CAE3D,CCZA,MAAMK,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,GAAI,CAACF,GAASA,EAAM,KAAI,IAAO,GAC7B,MAAM,IAAI,MAAM,sDAAsD,EAGxE,MAAMG,EAAS,CACb,IAAKN,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAUC,CACd,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIN,EAAU,CAAE,OAAAK,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,EAAM,OAAO,EAC/C,IAAI,MAAM,iDAAiD,CAClE,CACH,CCtBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAQ,SAAS,cAAc,2BAA2B,EAC1DC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAc,EACdC,EAAe,GAEnBL,GAAA,MAAAA,EAAM,iBAAiB,SAAUM,GAEjC,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAMb,EAAQO,GAAA,YAAAA,EAAO,MAAM,OAC3B,GAAI,CAACP,EAAO,CACVc,EAAY,8BAA8B,EAC1C,MACD,CAEGd,IAAUW,IACZI,IACAL,EAAc,GAEhBC,EAAeX,EAEf,GAAI,CACFgB,EAAa,EAAI,EACjB,KAAM,CAAE,KAAAC,EAAM,UAAAC,CAAW,EAAG,MAAMnB,EAAYC,EAAOU,CAAW,EAEhE,GAAIO,EAAK,SAAW,EAAG,CACrBH,EAAY,4CAA4C,EACxD,MACD,CAEGJ,IAAgB,GAClBS,EAAY,SAASD,CAAS,UAAU,EAG1C5B,EAAc2B,CAAI,EAClBP,GAAe,CAChB,OAAQL,EAAO,CACde,EAAUf,EAAM,SAAW,+CAA+C,CAC9E,QAAY,CACRW,EAAa,EAAK,CACnB,CACH,CAEA,SAASD,GAAe,CACtBP,EAAQ,UAAY,EACtB,CAEA,SAASQ,EAAaK,EAAM,CAC1BZ,EAAO,MAAM,QAAUY,EAAO,QAAU,MAC1C,CAEA,SAASP,EAAYQ,EAAS,CAC5BC,EAAS,QAAQ,CACf,MAAO,UACP,QAAAD,EACA,SAAU,UACd,CAAG,CACH,CAEA,SAASH,EAAYG,EAAS,CAC5BC,EAAS,QAAQ,CACf,MAAO,UACP,QAAAD,EACA,SAAU,UACd,CAAG,CACH,CAEA,SAASF,EAAUE,EAAS,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,EACA,SAAU,UACd,CAAG,CACH"}