import{a as L,S,i as d}from"./assets/vendor-tnUJPedx.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();function b(e){const o=e.map(({webformatURL:s,largeImageURL:t,tags:r})=>`<a class="gallery__item" href="${t}">
          <img class="gallery__image" src="${s}" alt="${r}" />
        </a>`).join(""),n=document.querySelector(".gallery");n&&n.insertAdjacentHTML("beforeend",o)}const v="47523471-f6b5bf2e20bc9d436dc6d8dc4",E="https://pixabay.com/api/";async function m(e,o=1,n=15){if(!e||e.trim()==="")throw new Error("Query cannot be empty. Please provide a search term.");const s={key:v,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:o,per_page:n};try{return(await L.get(E,{params:s})).data}catch(t){throw console.error("Error fetching images:",t.message),new Error("Failed to fetch images. Please try again later.")}}const P=document.querySelector(".search-form"),_=document.querySelector('input[name="searchQuery"]'),g=document.querySelector(".gallery"),i=document.querySelector(".load-more"),q=document.querySelector(".loader");let c=1,f="",a=0;const R=new S(".gallery a",{captionsData:"alt",captionDelay:250});P.addEventListener("submit",A);i.addEventListener("click",H);async function A(e){e.preventDefault();const o=_.value.trim();if(!o){h("Please enter a search query.");return}M(),c=1,f=o;try{l(!0);const{hits:n,totalHits:s}=await m(f,c);if(a=s,n.length===0){h("No images found. Try a different search term.");return}y(n),O(`Found ${a} images!`),a>n.length?i.classList.remove("is-hidden"):(i.classList.add("is-hidden"),w("You've reached the end of search results."))}catch{p("Something went wrong. Please try again.")}finally{l(!1)}}async function H(){c+=1;try{l(!0);const{hits:e}=await m(f,c);y(e),document.querySelectorAll(".gallery__item").length>=a&&(i.classList.add("is-hidden"),w("You've reached the end of search results."))}catch{p("Something went wrong while loading more images.")}finally{l(!1)}}function y(e){g.insertAdjacentHTML("beforeend",b(e)),R.refresh()}function M(){g.innerHTML="",i.classList.add("is-hidden")}function l(e){q.style.display=e?"block":"none"}function h(e){d.warning({title:"Warning",message:e,position:"topRight"})}function O(e){d.success({title:"Success",message:e,position:"topRight"})}function p(e){d.error({title:"Error",message:e,position:"topRight"})}function w(e){d.info({title:"Info",message:e,position:"topRight"})}
//# sourceMappingURL=index.js.map
